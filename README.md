# 用于安信可tb02蓝牙模块，用于调试过程中将部分有线连接场景转换为蓝牙连接，以减少操作复杂度。实现功能如下

- 485/ttl <->  蓝牙
- onewire/i2c/开关 -> 蓝牙

## 物理开关

- 485/ttl 组合中，485总线需要额外的模块连接在蓝牙串口与负载之间，ttl 仅需蓝牙串口与负载直接相连。485 与  ttl 二者存在硬件差异，特设置双刀双掷开关，在485/ttl之间切换。

## GPIO 占用

- 485/ttl GPIO: GPIO_RX \ GPIO_TX
- onewire/i2c : GPIO_PB4 \ GPIO_PB5
- hc595       : GPIO_PC2、GPIO_PC3、GPIO_PC4

合计占用 5个 GPIO。

## 蓝牙服务

蓝牙模块支持 485/ttl 与 onewire/i2c 同时工作，在蓝牙服务中将设置2个不同的数据通道，与两组功能分别对应。

- 485/ttl 透传服务: 服务常开，读写数据通过定制透传通道收发，蓝牙模块上电后即开启此通道。用于485/ttl实时通信。485/ttl 二者在数据通道上无差别，功能切换通过双刀双掷实体开关实现。
- onewire/i2c 切换服务：服务常开，0: None，1:i2c, 2:onewire。
- onewire/i2c 透传服务: 服务常开，功能切换通过 [onewire/i2c 切换] 服务实现。
- hc595: 服务常开， 单向输出。
- 电池剩余: 检测电池剩余电量
- OTA: 蓝牙升级服务
- 设备信息: 显示蓝牙设备信息

## 设备定义
